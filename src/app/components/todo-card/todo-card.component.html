<div class="card">
  <div class="card-body">
    <h5 class="card-title">{{todo.title}}</h5>

    <div class="row">
      <div class="col card-text">
        <div class="label">Created by:</div> 
        <div class="info-user">
          <div class="user-icon-container">
            <img class="user-icon" [src]="todo.createdBy.picture" alt="">
          </div>
          {{todo.createdBy.fullName}}
        </div>
      </div>
      
      <div class="col card-text" *ngIf="todo!.assignedTo; else buttonAssign">
        <div class="label">Assigned to:</div> 
        <div class="info-user">
          <div class="user-icon-container">
            <img class="user-icon" [src]="todo.assignedTo.picture" alt="">
          </div>
          {{todo!.assignedTo!.fullName}}
        </div>
      </div>
      <ng-template #buttonAssign>
        <div class="col" *ngIf="!(todo.expired)">
          <div class="label">Assigned to:</div>
          <button mat-raised-button (click)="openDialogAssign()">Select</button>
        </div>
      </ng-template>
  
    </div>

    <div class="card-text" *ngIf="todo.dueDate">Date: {{todo!.dueDate | date: 'dd/MM/yyyy HH:mm'}}</div>

    <div class="card-text" 
         [class.red]="todo.expired" 
         *ngIf="todo!.expired; else statusTodo">
      Expired
    </div>
    <ng-template #statusTodo>
      <div class="card-text">
        <input class="form-check-input" 
                type="checkbox"
                id="flexSwitchCheckDefault"
                (change)="setCheckBox($event)"
                [checked]="todo.completed"/>
        <label class="form-check-label" 
                for="flexSwitchCheckDefault"
                [class.green]="todo.completed">
          Completed
        </label>
      </div>
    </ng-template>
    
  </div>
</div>