<div class="card">
  <div class="card-body">
    <h5 class="card-title">{{todo.title}}</h5>
    <div class="card-text">
      Created by: 
      <img class="user-icon" [src]="todo.createdBy.picture" alt="">
      {{todo.createdBy.fullName}}
    </div>
    
    <div class="card-text" *ngIf="todo!.assignedTo; else buttonAssign">
      Assigned to: 
      <img class="user-icon" [src]="todo.assignedTo.picture" alt="">
      {{todo!.assignedTo!.fullName}}
    </div>
    <ng-template #buttonAssign>
      <span>Assign: </span>
      <button mat-raised-button (click)="openDialogAssign()">Select</button>
    </ng-template>

    <div class="card-text" *ngIf="todo.dueDate">Date: {{todo!.dueDate | date: 'dd/MM/yyyy HH:mm'}}</div>

    <div class="card-text" 
         [class.red]="todo.expired" 
         *ngIf="todo!.expired; else statusTodo">
      Expired
    </div>
    <ng-template #statusTodo>
      <div class="card-text">
        <input class="form-check-input" 
                type="checkbox"
                id="flexSwitchCheckDefault"
                (change)="setCheckBox($event)"
                [checked]="todo.completed"/>
        <label class="form-check-label" 
                for="flexSwitchCheckDefault"
                [class.green]="todo.completed">
          Completed
        </label>
      </div>
    </ng-template>
    
  </div>
</div>